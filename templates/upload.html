<!-- Upload Form -->
<form method="POST" enctype="multipart/form-data" class="mb-4">
    <input type="file" name="file" class="form-control mb-2" required>
    <button type="submit" class="btn btn-primary">Upload CSV</button>
</form>

{% if tables %}
    <h4>Data Preview:</h4>
    {{ tables|safe }}

    <hr>

    <!-- Column selection form (no file upload here) -->
    <form method="POST">
        <label for="x_column">X-axis:</label>
        <select name="x_column" class="form-select mb-2">
            {% for col in columns %}
                <option value="{{ col }}">{{ col }}</option>
            {% endfor %}
        </select>

        <label for="y_column">Y-axis:</label>
        <select name="y_column" class="form-select mb-2">
            {% for col in columns %}
                <option value="{{ col }}">{{ col }}</option>
            {% endfor %}
        </select>

        <label for="chart_type">Chart Type:</label>
        <select name="chart_type" class="form-select mb-2">
            <option value="line">Line</option>
            <option value="bar">Bar</option>
            <option value="scatter">Scatter</option>
            <option value="pie">Pie</option>
        </select>

        <button type="submit" class="btn btn-success">Generate Graph</button>
    </form>
{% endif %}
